version: 1.0
runtime: python3

env:
  variables:
    API_HOST: 0.0.0.0
    API_PORT: "8080"
    MONGODB_DB_NAME: city_hero
    DEBUG: "False"
  secrets:
    - name: MONGODB_URL
      value: arn:aws:secretsmanager:eu-central-1:586206156633:secret:Hackatum2025-8ehDyQ

build:
  commands:
    pre-build:
      - pip install --upgrade pip
    build:
      - pip install -r backend/requirements.txt

run:
  command: >
    bash -c "cd backend && uvicorn app.main:app --host 0.0.0.0 --port 8080"

